<%= form_with(model: @match, local: true) do |f| %>
  <div class="card-body">
    <% if @match.errors.any? %>
      <div class="alert alert-danger">
        <h4><%= pluralize(@match.errors.count, "error") %> prohibited this match from being saved:</h4>
        <ul>
          <% @match.errors.full_messages.each do |msg| %>
            <li><%= msg %></li>
          <% end %>
        </ul>
      </div>
    <% end %>

    <div class="row g-3">
      <div class="col-md-4">
        <div class="mb-3">
          <%= f.label :location_type, "Match Location", class: "form-label" %>
          <%= f.select :location_type,
              [['Home Game', 'home'], ['Away Game', 'away']],
              { include_blank: 'Select location' },
              {
                class: "form-select",
                required: true
              }
          %>
        </div>
      </div>

      <div class="col-md-4">
        <div class="mb-3">
          <%= f.label :opponent_id, "Opponent", class: "form-label" %>
          <%= f.collection_select :opponent_id,
              @opponents,
              :id,
              :name,
              { include_blank: 'Select opponent' },
              {
                class: "form-select",
                required: true
              }
          %>
        </div>
      </div>

      <div class="col-md-4">
        <div class="mb-3">
          <%= f.label :result, class: "form-label" %>
          <%= f.text_field :result, class: "form-control", required: true %>
        </div>
      </div>

      <div class="col-md-4">
        <div class="mb-3">
          <%= f.label :season, class: "form-label" %>
          <%= f.select :season,
              [
                ['2024/2025', '2024/2025'],
                ['2023/2024', '2023/2024']
              ],
              { include_blank: 'Select season' },
              {
                class: "form-select",
                required: true
              }
          %>
        </div>
      </div>

      <div class="col-md-4">
        <div class="mb-3">
          <%= f.label :competition, class: "form-label" %>
          <%= f.text_field :competition, class: "form-control", placeholder: "Top 12", required: true %>
        </div>
      </div>

      <div class="col-md-4">
        <div class="mb-3">
          <%= f.label :date, class: "form-label" %>
          <%= f.date_field :date, class: "form-control", required: true %>
        </div>
      </div>

      <div class="col-md-12">
        <div class="mb-3">
          <%= f.label :description, class: "form-label" %>
          <%= f.text_field :description, class: "form-control", placeholder: "Optional match description" %>
        </div>
      </div>
    </div>

    <div class="mt-4">
      <%= f.submit submit_text, class: "btn btn-primary" %>
      <%= link_to "Cancel", matches_path, class: "btn btn-secondary ms-2" %>
    </div>
  </div>
<% end %>
